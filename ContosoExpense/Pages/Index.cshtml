@page
@model ContosoExpense.Pages.IndexModel
@{
    ViewData["Title"] = "Home";
}

<div class="text-center py-5">
    <h1 class="display-4">
        <i class="bi bi-receipt text-primary"></i>
        Welcome to Contoso Expense
    </h1>
    <p class="lead mt-3">Manage your business expenses efficiently</p>
    
    <div class="row mt-5 justify-content-center">
        <div class="col-md-4 mb-4">
            <div class="card h-100 shadow-sm">
                <div class="card-body text-center">
                    <i class="bi bi-plus-circle display-4 text-primary mb-3"></i>
                    <h5 class="card-title">Create Expenses</h5>
                    <p class="card-text text-muted">Submit new expenses for approval with receipts and details.</p>
                    <a asp-page="/Expenses/Create" class="btn btn-primary">
                        <i class="bi bi-plus me-1"></i>New Expense
                    </a>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-4">
            <div class="card h-100 shadow-sm">
                <div class="card-body text-center">
                    <i class="bi bi-list-check display-4 text-success mb-3"></i>
                    <h5 class="card-title">View Expenses</h5>
                    <p class="card-text text-muted">Track your submitted expenses and their approval status.</p>
                    <a asp-page="/Expenses/Index" class="btn btn-success">
                        <i class="bi bi-list me-1"></i>View All
                    </a>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-4">
            <div class="card h-100 shadow-sm">
                <div class="card-body text-center">
                    <i class="bi bi-graph-up display-4 text-info mb-3"></i>
                    <h5 class="card-title">Dashboard</h5>
                    <p class="card-text text-muted">View expense analytics, trends, and KPIs.</p>
                    <a asp-page="/Dashboard/Index" class="btn btn-info">
                        <i class="bi bi-bar-chart me-1"></i>Dashboard
                    </a>
                </div>
            </div>
        </div>
    </div>

    @if (Model.IsManager)
    {
        <div class="alert alert-info mt-4" role="alert">
            <i class="bi bi-shield-check me-2"></i>
            <strong>Manager Access:</strong> You have access to approve/reject expenses and admin features.
        </div>
    }

    <div class="mt-5">
        <h4 class="text-muted">Quick Stats</h4>
        <div class="row mt-3 justify-content-center">
            <div class="col-md-3">
                <div class="card border-primary">
                    <div class="card-body">
                        <h2 class="text-primary">@Model.TotalExpenses</h2>
                        <p class="text-muted mb-0">Total Expenses</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card border-warning">
                    <div class="card-body">
                        <h2 class="text-warning">@Model.PendingApproval</h2>
                        <p class="text-muted mb-0">Pending Approval</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card border-success">
                    <div class="card-body">
                        <h2 class="text-success">@Model.TotalAmount.ToString("C")</h2>
                        <p class="text-muted mb-0">This Month</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="mt-5 p-4 bg-light rounded">
    <h5><i class="bi bi-info-circle me-2"></i>About This Demo</h5>
    <p class="mb-2">This is a mock expense management application demonstrating:</p>
    <ul class="mb-0">
        <li>In-memory data storage with sample data</li>
        <li>Role-based access (User vs Manager)</li>
        <li>Expense lifecycle: Draft → Submitted → Approved/Rejected → Paid</li>
        <li>Use the user dropdown in the top-right to switch between users</li>
    </ul>
</div>
